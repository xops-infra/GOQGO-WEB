# ä¸»é¢˜é¢œè‰²ä¿®å¤æ€»ç»“

## ğŸ¯ é—®é¢˜æè¿°

ç”¨æˆ·åé¦ˆåœ¨æ·±è‰²ä¸»é¢˜ä¸‹ï¼Œéƒ¨åˆ†ç»„ä»¶ä»ç„¶æ˜¾ç¤ºæµ…è‰²èƒŒæ™¯ï¼Œç‰¹åˆ«æ˜¯ï¼š
- èŠå¤©åŒºåŸŸèƒŒæ™¯è‰²ä¸æ­£ç¡®
- è¾“å…¥æ¡†ä»ç„¶æ˜¯ç™½è‰²èƒŒæ™¯
- æ¶ˆæ¯å¡ç‰‡å’Œå·¥å…·æ é¢œè‰²ä¸ç»Ÿä¸€
- éƒ¨åˆ†UIç»„ä»¶æ²¡æœ‰æ­£ç¡®åº”ç”¨ä¸»é¢˜å˜é‡

## ğŸ”§ ä¿®å¤æ–¹æ¡ˆ

### 1. ç»Ÿä¸€CSSå˜é‡ç³»ç»Ÿ
ç¡®ä¿æ‰€æœ‰ç»„ä»¶éƒ½ä½¿ç”¨ç»Ÿä¸€çš„CSSå˜é‡è€Œä¸æ˜¯ç¡¬ç¼–ç é¢œè‰²å€¼ï¼š

```scss
// æ›¿æ¢ç¡¬ç¼–ç é¢œè‰²
background: #ffffff; // âŒ
background-color: var(--bg-primary); // âœ…

color: #333333; // âŒ  
color: var(--text-primary); // âœ…

border: 1px solid #e0e0e0; // âŒ
border: 1px solid var(--border-primary); // âœ…
```

### 2. å¼ºåŒ–Naive UIç»„ä»¶æ ·å¼è¦†ç›–
åˆ›å»ºäº†å¤šå±‚æ ·å¼è¦†ç›–æœºåˆ¶ï¼š

#### å…¨å±€æ ·å¼è¦†ç›– (`src/styles/components.scss`)
```scss
.n-input {
  background-color: var(--bg-secondary) !important;
  color: var(--text-primary) !important;
  // ... æ›´å¤šæ ·å¼
}
```

#### ä¸“é—¨çš„è¾“å…¥æ¡†ä¿®å¤ (`src/styles/input-fix.scss`)
```scss
.n-input,
.n-input .n-input__input-el,
.n-input .n-input__textarea-el {
  background-color: var(--bg-secondary) !important;
  color: var(--text-primary) !important;
}
```

#### ç»„ä»¶çº§æ·±åº¦æ ·å¼è¦†ç›–
```scss
:deep(.n-input) {
  background-color: var(--bg-secondary) !important;
  // ... ç»„ä»¶ç‰¹å®šæ ·å¼
}
```

### 3. ä¿®å¤çš„ç»„ä»¶åˆ—è¡¨

#### âœ… ChatRoom.vue
- ä¸»å®¹å™¨èƒŒæ™¯è‰²ï¼š`#f5f5f5` â†’ `var(--bg-primary)`
- å·¥å…·æ èƒŒæ™¯ï¼š`rgba(255, 255, 255, 0.95)` â†’ `var(--bg-secondary)`
- æ¶ˆæ¯è®¡æ•°æ–‡æœ¬ï¼š`#6c757d` â†’ `var(--text-tertiary)`
- å†å²æ¶ˆæ¯æç¤ºï¼šç¡¬ç¼–ç é¢œè‰² â†’ ä¸»é¢˜å˜é‡
- åˆ†å‰²çº¿æ ·å¼ï¼šç¡¬ç¼–ç é¢œè‰² â†’ ä¸»é¢˜å˜é‡

#### âœ… ChatInput.vue
- è¾“å…¥åŒºåŸŸèƒŒæ™¯ï¼š`#ffffff` â†’ `var(--bg-primary)`
- è¾¹æ¡†é¢œè‰²ï¼š`#e0e0e0` â†’ `var(--border-primary)`
- å·¥å…·æ æŒ‰é’®æ‚¬åœï¼š`rgba(0, 0, 0, 0.06)` â†’ `var(--bg-hover)`
- è¾“å…¥æ¡†æ·±åº¦æ ·å¼è¦†ç›–

#### âœ… MessageItem.vue
- æ¶ˆæ¯å¡ç‰‡èƒŒæ™¯ï¼š`#ffffff` â†’ `var(--bg-primary)`
- æ¶ˆæ¯å¤´éƒ¨èƒŒæ™¯ï¼š`rgba(0, 0, 0, 0.01)` â†’ `var(--bg-secondary)`
- è¾¹æ¡†é¢œè‰²ï¼š`#f0f0f0` â†’ `var(--border-primary)`
- æ–‡ä»¶é“¾æ¥èƒŒæ™¯ï¼š`#f8f9fa` â†’ `var(--bg-secondary)`
- å›¾ç‰‡æ ‡ç­¾èƒŒæ™¯ï¼šç¡¬ç¼–ç  â†’ `var(--bg-modal)`

#### âœ… UserInfo.vue
- ç”¨æˆ·æè¿°èƒŒæ™¯ï¼šæ¸å˜ç¡¬ç¼–ç  â†’ ä¸»é¢˜å˜é‡æ¸å˜
- ä¸‹æ‹‰èœå•èƒŒæ™¯ï¼š`#ffffff` â†’ `var(--bg-primary)`
- é˜´å½±å’Œè¾¹æ¡†ï¼šç¡¬ç¼–ç  â†’ ä¸»é¢˜å˜é‡

#### âœ… MessageSearch.vue
- æœç´¢é¢æ¿èƒŒæ™¯ï¼š`#ffffff` â†’ `var(--bg-primary)`
- è¾¹æ¡†å’Œé˜´å½±ï¼šç¡¬ç¼–ç  â†’ ä¸»é¢˜å˜é‡

### 4. æ ·å¼æ–‡ä»¶ç»“æ„

```
src/styles/
â”œâ”€â”€ index.scss          # æ ·å¼å…¥å£ï¼Œå¯¼å…¥æ‰€æœ‰æ ·å¼æ–‡ä»¶
â”œâ”€â”€ theme.scss          # ä¸»é¢˜å˜é‡å®šä¹‰å’ŒåŸºç¡€æ ·å¼
â”œâ”€â”€ components.scss     # Naive UIç»„ä»¶å…¨å±€æ ·å¼å¢å¼º
â””â”€â”€ input-fix.scss      # ä¸“é—¨ä¿®å¤è¾“å…¥æ¡†ä¸»é¢˜çš„æ ·å¼
```

## ğŸ¨ ä¸»é¢˜å˜é‡æ˜ å°„

### èƒŒæ™¯è‰²å˜é‡
- `--bg-primary`: ä¸»èƒŒæ™¯è‰² (æµ…è‰²: #ffffff, æ·±è‰²: #0f172a)
- `--bg-secondary`: æ¬¡è¦èƒŒæ™¯è‰² (æµ…è‰²: #f8f9fa, æ·±è‰²: #1e293b)
- `--bg-tertiary`: ç¬¬ä¸‰çº§èƒŒæ™¯è‰² (æµ…è‰²: #f1f3f4, æ·±è‰²: #334155)
- `--bg-hover`: æ‚¬åœèƒŒæ™¯è‰² (æµ…è‰²: #f5f5f5, æ·±è‰²: #475569)
- `--bg-modal`: æ¨¡æ€æ¡†èƒŒæ™¯è‰² (å¸¦é€æ˜åº¦)

### æ–‡æœ¬è‰²å˜é‡
- `--text-primary`: ä¸»æ–‡æœ¬è‰² (æµ…è‰²: #1f2937, æ·±è‰²: #f8fafc)
- `--text-secondary`: æ¬¡è¦æ–‡æœ¬è‰² (æµ…è‰²: #6b7280, æ·±è‰²: #cbd5e1)
- `--text-tertiary`: ç¬¬ä¸‰çº§æ–‡æœ¬è‰² (æµ…è‰²: #9ca3af, æ·±è‰²: #94a3b8)

### è¾¹æ¡†è‰²å˜é‡
- `--border-primary`: ä¸»è¾¹æ¡†è‰² (æµ…è‰²: #e5e7eb, æ·±è‰²: #475569)
- `--border-secondary`: æ¬¡è¦è¾¹æ¡†è‰² (æµ…è‰²: #f3f4f6, æ·±è‰²: #334155)
- `--border-focus`: ç„¦ç‚¹è¾¹æ¡†è‰² (æµ…è‰²: #3b82f6, æ·±è‰²: #60a5fa)

## ğŸ›  æŠ€æœ¯å®ç°ç»†èŠ‚

### 1. æ ·å¼ä¼˜å…ˆçº§ç­–ç•¥
```scss
// ä½¿ç”¨ !important ç¡®ä¿ä¸»é¢˜æ ·å¼ä¼˜å…ˆçº§æœ€é«˜
.n-input {
  background-color: var(--bg-secondary) !important;
}

// æ·±åº¦é€‰æ‹©å™¨è¦†ç›–ç»„ä»¶å†…éƒ¨æ ·å¼
:deep(.n-input__input-el) {
  background-color: var(--bg-secondary) !important;
}
```

### 2. è¿‡æ¸¡åŠ¨ç”»
```scss
.theme-transition {
  transition: background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease;
}
```

### 3. å“åº”å¼ä¸»é¢˜æ£€æµ‹
```typescript
// è‡ªåŠ¨æ£€æµ‹ç³»ç»Ÿä¸»é¢˜å˜åŒ–
const mediaQuery = window.matchMedia('(prefers-color-scheme: dark)')
mediaQuery.addEventListener('change', handleSystemThemeChange)
```

## âœ… ä¿®å¤éªŒè¯

### æ„å»ºæµ‹è¯•
- âœ… è¯­æ³•æ£€æŸ¥é€šè¿‡
- âœ… æ„å»ºæˆåŠŸ (CSSæ–‡ä»¶ä»46KBå¢åŠ åˆ°55KBï¼ŒåŒ…å«å®Œæ•´ä¸»é¢˜è¦†ç›–)
- âœ… æ— TypeScripté”™è¯¯
- âœ… æ— è¿è¡Œæ—¶é”™è¯¯

### åŠŸèƒ½æµ‹è¯•
- âœ… ä¸»é¢˜åˆ‡æ¢æ­£å¸¸å·¥ä½œ
- âœ… æµ…è‰²/æ·±è‰²/è‡ªåŠ¨ä¸‰ç§æ¨¡å¼éƒ½æ­£ç¡®åº”ç”¨
- âœ… æ‰€æœ‰è¾“å…¥æ¡†éƒ½åº”ç”¨æ·±è‰²ä¸»é¢˜
- âœ… èŠå¤©åŒºåŸŸèƒŒæ™¯è‰²æ­£ç¡®
- âœ… æ¶ˆæ¯å¡ç‰‡æ ·å¼ç»Ÿä¸€
- âœ… æœ¬åœ°å­˜å‚¨ä¸»é¢˜åå¥½æ­£å¸¸

## ğŸ¯ æœ€ç»ˆæ•ˆæœ

### æ·±è‰²ä¸»é¢˜ä¸‹çš„æ”¹è¿›
- ğŸ¨ **ç»Ÿä¸€çš„æ·±è‰²èƒŒæ™¯**: æ‰€æœ‰åŒºåŸŸéƒ½ä½¿ç”¨ä¸€è‡´çš„æ·±è‰²èƒŒæ™¯
- ğŸ¨ **æ­£ç¡®çš„æ–‡æœ¬å¯¹æ¯”åº¦**: ç¡®ä¿æ–‡æœ¬åœ¨æ·±è‰²èƒŒæ™¯ä¸‹æ¸…æ™°å¯è¯»
- ğŸ¨ **åè°ƒçš„è¾¹æ¡†å’Œåˆ†å‰²çº¿**: ä½¿ç”¨é€‚åˆæ·±è‰²ä¸»é¢˜çš„è¾¹æ¡†é¢œè‰²
- ğŸ¨ **å¹³æ»‘çš„ä¸»é¢˜åˆ‡æ¢**: æ‰€æœ‰å…ƒç´ éƒ½æœ‰è¿‡æ¸¡åŠ¨ç”»
- ğŸ¨ **å®Œæ•´çš„ç»„ä»¶è¦†ç›–**: Naive UIç»„ä»¶å®Œå…¨é€‚é…ä¸»é¢˜ç³»ç»Ÿ

### æµ…è‰²ä¸»é¢˜ä¿æŒä¸å˜
- âœ… åŸæœ‰çš„æµ…è‰²ä¸»é¢˜æ ·å¼ä¿æŒå®Œæ•´
- âœ… æ‰€æœ‰åŠŸèƒ½æ­£å¸¸å·¥ä½œ
- âœ… è§†è§‰æ•ˆæœä¸ä¹‹å‰ä¸€è‡´

## ğŸ“š ä½¿ç”¨æŒ‡å—

### å¼€å‘è€…æ³¨æ„äº‹é¡¹
1. **é¿å…ç¡¬ç¼–ç é¢œè‰²**: å§‹ç»ˆä½¿ç”¨CSSå˜é‡
2. **æ·»åŠ è¿‡æ¸¡åŠ¨ç”»**: ä½¿ç”¨ `.theme-transition` ç±»
3. **æµ‹è¯•ä¸¤ç§ä¸»é¢˜**: ç¡®ä¿åœ¨æµ…è‰²å’Œæ·±è‰²ä¸»é¢˜ä¸‹éƒ½æ­£å¸¸æ˜¾ç¤º
4. **ä½¿ç”¨æ·±åº¦é€‰æ‹©å™¨**: è¦†ç›–ç¬¬ä¸‰æ–¹ç»„ä»¶æ ·å¼æ—¶ä½¿ç”¨ `:deep()`

### æ–°ç»„ä»¶å¼€å‘è§„èŒƒ
```vue
<template>
  <div class="my-component theme-transition">
    <input class="my-input" />
  </div>
</template>

<style scoped lang="scss">
.my-component {
  background-color: var(--bg-primary);
  color: var(--text-primary);
  border: 1px solid var(--border-primary);
  
  .my-input {
    background-color: var(--bg-secondary);
    color: var(--text-primary);
    border: 1px solid var(--border-primary);
    
    &:focus {
      border-color: var(--border-focus);
    }
  }
}
</style>
```

---

**æ€»ç»“**: é€šè¿‡ç³»ç»Ÿæ€§çš„æ ·å¼ä¿®å¤å’Œå¤šå±‚è¦†ç›–æœºåˆ¶ï¼ŒæˆåŠŸè§£å†³äº†æ·±è‰²ä¸»é¢˜ä¸‹çš„é¢œè‰²ä¸ä¸€è‡´é—®é¢˜ã€‚ç°åœ¨æ‰€æœ‰ç»„ä»¶éƒ½èƒ½æ­£ç¡®åº”ç”¨ä¸»é¢˜å˜é‡ï¼Œæä¾›äº†ç»Ÿä¸€ã€ç¾è§‚çš„ç”¨æˆ·ä½“éªŒã€‚
