<template>
  <div class="markdown-test-page">
    <n-card title="Markdown æ¸²æŸ“æµ‹è¯•" :bordered="false">
      <n-space vertical :size="20">
        <!-- æµ‹è¯•å†…å®¹è¾“å…¥ -->
        <n-input
          v-model:value="testContent"
          type="textarea"
          placeholder="è¾“å…¥ Markdown å†…å®¹è¿›è¡Œæµ‹è¯•..."
          :rows="8"
        />
        
        <!-- æ¸²æŸ“ç»“æœ -->
        <n-card title="æ¸²æŸ“ç»“æœ" size="small">
          <MarkdownRenderer :content="testContent" />
        </n-card>
        
        <!-- é¢„è®¾æµ‹è¯•å†…å®¹ -->
        <n-space>
          <n-button @click="loadSample1">åŠ è½½ç¤ºä¾‹1</n-button>
          <n-button @click="loadSample2">åŠ è½½ç¤ºä¾‹2</n-button>
          <n-button @click="loadSample3">åŠ è½½ç¤ºä¾‹3</n-button>
          <n-button @click="clearContent">æ¸…ç©º</n-button>
        </n-space>
      </n-space>
    </n-card>
  </div>
</template>

<script setup lang="ts">
import { ref } from 'vue'
import MarkdownRenderer from '@/components/MarkdownRenderer.vue'

const testContent = ref(`# è¿™æ˜¯ä¸€ä¸ªæ ‡é¢˜

è¿™æ˜¯ä¸€æ®µæ™®é€šæ–‡æœ¬ï¼ŒåŒ…å« **ç²—ä½“** å’Œ *æ–œä½“* æ–‡å­—ã€‚

## ä»£ç ç¤ºä¾‹

è¿™æ˜¯ä¸€ä¸ªå†…è”ä»£ç ï¼š\`console.log('Hello World')\`

\`\`\`javascript
function greet(name) {
  console.log(\`Hello, \${name}!\`)
  return \`Welcome to GoQGo!\`
}

greet('Developer')
\`\`\`

## åˆ—è¡¨

### æ— åºåˆ—è¡¨
- é¡¹ç›®1
- é¡¹ç›®2
  - å­é¡¹ç›®A
  - å­é¡¹ç›®B
- é¡¹ç›®3

### æœ‰åºåˆ—è¡¨
1. ç¬¬ä¸€æ­¥
2. ç¬¬äºŒæ­¥
3. ç¬¬ä¸‰æ­¥

## å¼•ç”¨

> è¿™æ˜¯ä¸€ä¸ªå¼•ç”¨å—
> 
> å¯ä»¥åŒ…å«å¤šè¡Œå†…å®¹

## é“¾æ¥

è¿™æ˜¯ä¸€ä¸ª [é“¾æ¥ç¤ºä¾‹](https://github.com/zhoushoujianwork/GOQGO-WEB)

## è¡¨æ ¼

| åŠŸèƒ½ | çŠ¶æ€ | è¯´æ˜ |
|------|------|------|
| Markdownæ¸²æŸ“ | âœ… | æ”¯æŒæ ‡å‡†è¯­æ³• |
| ä»£ç é«˜äº® | âœ… | æ”¯æŒå¤šç§è¯­è¨€ |
| è¡¨æ ¼ | âœ… | æ”¯æŒåŸºæœ¬è¡¨æ ¼ |

---

æµ‹è¯•å®Œæˆï¼âœ¨`)

const loadSample1 = () => {
  testContent.value = `# AI Agent æ¶ˆæ¯ç¤ºä¾‹

ä½ å¥½ï¼æˆ‘æ˜¯ **GoQGo AIåŠ©æ‰‹**ï¼Œå¾ˆé«˜å…´ä¸ºä½ æœåŠ¡ï¼

## æˆ‘å¯ä»¥å¸®ä½ åšä»€ä¹ˆï¼Ÿ

- ğŸ“ **ä»£ç ç¼–å†™å’Œä¼˜åŒ–**
- ğŸ› **Bugè°ƒè¯•å’Œä¿®å¤** 
- ğŸ“š **æŠ€æœ¯æ–‡æ¡£ç¼–å†™**
- ğŸ” **ä»£ç å®¡æŸ¥**

### ä»£ç ç¤ºä¾‹

\`\`\`typescript
interface Agent {
  id: string
  name: string
  status: 'running' | 'idle' | 'error'
  role: string
}

const createAgent = async (data: CreateAgentRequest): Promise<Agent> => {
  const response = await fetch('/api/agents', {
    method: 'POST',
    headers: { 'Content-Type': 'application/json' },
    body: JSON.stringify(data)
  })
  return response.json()
}
\`\`\`

> ğŸ’¡ **æç¤º**: ä½ å¯ä»¥éšæ—¶ @æˆ‘ æ¥è·å–å¸®åŠ©ï¼`
}

const loadSample2 = () => {
  testContent.value = `## ğŸš€ é¡¹ç›®è¿›åº¦æ›´æ–°

### å·²å®ŒæˆåŠŸèƒ½
- [x] ç”¨æˆ·è®¤è¯ç³»ç»Ÿ
- [x] èŠå¤©å®¤åŸºç¡€åŠŸèƒ½
- [x] Markdownæ¶ˆæ¯æ¸²æŸ“
- [x] ä»£ç é«˜äº®æ˜¾ç¤º

### è¿›è¡Œä¸­
- [ ] æ–‡ä»¶ä¸Šä¼ åŠŸèƒ½
- [ ] æ¶ˆæ¯æœç´¢
- [ ] ä¸»é¢˜åˆ‡æ¢

### æŠ€æœ¯æ ˆ

\`\`\`json
{
  "frontend": {
    "framework": "Vue 3",
    "ui": "Naive UI", 
    "state": "Pinia",
    "build": "Vite"
  },
  "backend": {
    "language": "Go",
    "framework": "Gin",
    "database": "PostgreSQL",
    "cache": "Redis"
  }
}
\`\`\`

### æ€§èƒ½æŒ‡æ ‡

| æŒ‡æ ‡ | å½“å‰å€¼ | ç›®æ ‡å€¼ |
|------|--------|--------|
| é¦–å±åŠ è½½æ—¶é—´ | 1.2s | < 1s |
| æ¶ˆæ¯å‘é€å»¶è¿Ÿ | 50ms | < 100ms |
| å†…å­˜ä½¿ç”¨ | 45MB | < 50MB |

---
*æœ€åæ›´æ–°: ${new Date().toLocaleString()}*`
}

const loadSample3 = () => {
  testContent.value = `# ğŸ”§ ç³»ç»ŸçŠ¶æ€æŠ¥å‘Š

## æœåŠ¡çŠ¶æ€ âœ…

æ‰€æœ‰æ ¸å¿ƒæœåŠ¡è¿è¡Œæ­£å¸¸ï¼š

\`\`\`bash
# æ£€æŸ¥æœåŠ¡çŠ¶æ€
kubectl get pods -n goqgo-system

NAME                    READY   STATUS    RESTARTS   AGE
api-server-7d4b8f9c-x2k1    1/1     Running   0          2h
chat-service-5f6g7h8-y3m2   1/1     Running   0          2h
web-frontend-9a1b2c3-z4n5   1/1     Running   0          1h
\`\`\`

## ç›‘æ§æ•°æ®

### CPU ä½¿ç”¨ç‡
- API Server: **12%**
- Chat Service: **8%** 
- Frontend: **5%**

### å†…å­˜ä½¿ç”¨
- API Server: **256MB** / 512MB
- Chat Service: **128MB** / 256MB
- Frontend: **64MB** / 128MB

## æœ€è¿‘æ—¥å¿—

\`\`\`log
2025-08-03 11:20:15 [INFO] Chat message sent successfully
2025-08-03 11:20:16 [INFO] User connected: user_12345
2025-08-03 11:20:17 [INFO] Markdown content rendered
2025-08-03 11:20:18 [INFO] WebSocket connection established
\`\`\`

> âš ï¸ **æ³¨æ„**: ç³»ç»Ÿå°†åœ¨ä»Šæ™š 23:00 è¿›è¡Œä¾‹è¡Œç»´æŠ¤ï¼Œé¢„è®¡æŒç»­ 30 åˆ†é’Ÿã€‚

---
**ç³»ç»Ÿç®¡ç†å‘˜** | *GoQGo Team*`
}

const clearContent = () => {
  testContent.value = ''
}
</script>

<style scoped lang="scss">
.markdown-test-page {
  padding: 20px;
  max-width: 1200px;
  margin: 0 auto;
}
</style>
